require 'faker'

Faker::Config.locale = 'ja' # âœ… æ—¥æœ¬èªã‚’é©ç”¨ï¼

puts "ğŸš¨ æ—¢å­˜ã®ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ä¸­..."

# ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ & é–¢é€£ãƒ‡ãƒ¼ã‚¿ã®ã¿å‰Šé™¤
test_user = User.find_by(email: "test@example.com")
if test_user
  test_user.teams.destroy_all # ğŸ”¥ ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚ªãƒ¼ãƒŠãƒ¼ã®ãƒãƒ¼ãƒ ã‚’å‰Šé™¤
  test_user.items.destroy_all # ğŸ”¥ ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç™»éŒ²ã—ãŸã‚¢ã‚¤ãƒ†ãƒ ã‚’å‰Šé™¤
  test_user.destroy # ğŸ”¥ ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼è‡ªä½“ã‚’å‰Šé™¤
end

puts "âœ… ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã®å‰Šé™¤ãŒå®Œäº†ï¼"

# ğŸ“Œ ä»–ã®å›ºå®šãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆï¼ˆãƒ¡ãƒ¼ãƒ«ã¯ä»®ï¼‰
users = {
  "ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼" => "test@example.com",
  "ã‘ã‚“ã”" => "kengo@example.com",
  "ã¯ãªã¡ã‚ƒã‚“" => "hana@example.com",
  "äº¬ä»‹" => "kyosuke@example.com",
  "å…­æœ¬å‚ ç¿”" => "rokubon@example.com",
  "ã—ã‚…ã‚“ã™ã‘å…ˆè¼©" => "shunsuke@example.com",
  "ã‹ãª" => "kana@example.com",
  "ã‚¯ãƒ­ãƒã‚³" => "kuroneko@example.com",
  "ä½ã€…æœ¨å…ˆè¼©" => "sasaki@example.com",
  "ã¨ã‚‚ã‚„" => "tomoya@example.com",
  "å²¡éƒ¨ å‹äº”éƒ" => "okabe_t@example.com",
  "å²¡éƒ¨ ã‚Šã‚“" => "okabe_r@example.com",
  "ä½è—¤ ã—ãŠã‚Š" => "sato@example.com",
  "å¡©è°· ç”˜å¥ˆ" => "shioya@example.com",
  "è¾›æ²¢ ç¿”æˆ‘" => "karasawa@example.com",
  "ä¹è‹¦æ£® çˆç²" => "kukumori@example.com",
  "ç…å­èˆåº—é•·" => "shishimai@example.com",
  "é³¥æŸ„ ç¬¬ä¸€" => "torigara@example.com",
  "æ¹¯åˆ‡ å„ªç§€" => "yugiri@example.com",
  "æ£®ç›› å¾¡é£¯" => "morimori@example.com",
  "é¦¬äº• èŒ¶ç§‹" => "umai@example.com"
}

user_records = users.map do |name, email|
  user = User.create!(
    name: name,  # âœ… ã“ã“ã‚’ `name` ã«ä¿®æ­£
    email: email, 
    password: "password",
    password_confirmation: "password"
  )
  [name, user]  # âœ… `[åå‰, ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ]` ã®é…åˆ—ã‚’ä½œã‚‹
end.to_h  # âœ… `to_h` ã§ `{åå‰ => ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ}` ã®ãƒãƒƒã‚·ãƒ¥ã«å¤‰æ›


# ğŸ“Œ ãƒãƒ¼ãƒ ä½œæˆ & ãƒ¡ãƒ³ãƒãƒ¼ç™»éŒ²
teams = {
  "ãƒ†ã‚¹ãƒˆå¤§å­¦ ã‚µãƒƒã‚«ãƒ¼ã‚µãƒ¼ã‚¯ãƒ«" => ["ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼","ã‘ã‚“ã”", "ã¯ãªã¡ã‚ƒã‚“", "äº¬ä»‹", "å…­æœ¬å‚ ç¿”", "ã—ã‚…ã‚“ã™ã‘å…ˆè¼©", "ã‹ãª"],
  "ãƒ†ã‚¹ãƒˆå¤§å­¦ ç±³å€‰ã‚¼ãƒŸ" => ["ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼","ã‚¯ãƒ­ãƒã‚³", "ä½ã€…æœ¨å…ˆè¼©", "ã¨ã‚‚ã‚„"],
  "å²¡éƒ¨å®¶ãŠã¤ã‹ã„ãƒªã‚¹ãƒˆ" => ["ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼","å²¡éƒ¨ å‹äº”éƒ", "å²¡éƒ¨ ã‚Šã‚“"],
  "ã‚­ãƒƒãƒãƒ³ã‚«ãƒ¼ã€ŒCRAYONã€" => ["ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼","ä½è—¤ ã—ãŠã‚Š", "å¡©è°· ç”˜å¥ˆ", "è¾›æ²¢ ç¿”æˆ‘", "ä¹è‹¦æ£® çˆç²"],
  "ãƒ©ãƒ¼ãƒ¡ãƒ³ã€œç…å­èˆå®¶ã€œ" => ["ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼","ç…å­èˆåº—é•·", "é³¥æŸ„ ç¬¬ä¸€", "æ¹¯åˆ‡ å„ªç§€", "æ£®ç›› å¾¡é£¯", "é¦¬äº• èŒ¶ç§‹"]
}

team_records = {}

teams.each do |team_name, member_names|
  team = Team.create!(name: team_name, owner: user_records["ãƒ†ã‚¹ãƒˆãƒ¦ãƒ¼ã‚¶ãƒ¼"])
  team_records[team_name] = team # â† Hash ã«ä¿å­˜ï¼

  member_names.each do |name|
    Membership.create!(user: user_records[name], team: team)
  end
end


# ğŸ“Œ ã‚¢ã‚¤ãƒ†ãƒ è¿½åŠ ï¼ˆã™ã¹ã¦å›ºå®šï¼‰
items = {
  "ãƒ†ã‚¹ãƒˆå¤§å­¦ ã‚µãƒƒã‚«ãƒ¼ã‚µãƒ¼ã‚¯ãƒ«" => [
    ["ã‚µãƒƒã‚«ãƒ¼ãƒœãƒ¼ãƒ«", "ç·´ç¿’ç”¨", 2000, 10],
    ["ã‚¹ãƒãƒ¼ãƒ„ãƒ‰ãƒªãƒ³ã‚¯", "æ¯æœˆ5ç®±ã¯ã»ã—ã„", 1000, 5],
    ["ãƒãƒ¼ãƒˆ", "ç·´ç¿’ãƒãƒ¼ãƒˆã«ä½¿ã†", 100, 1]
  ],
  "ãƒ†ã‚¹ãƒˆå¤§å­¦ ç±³å€‰ã‚¼ãƒŸ" => [
    ["ãƒ«ãƒ¼ã‚ºãƒªãƒ¼ãƒ•", "ã‚¼ãƒŸã®ãƒ¡ãƒ¢ç”¨", 300, 2],
    ["ãƒœãƒ¼ãƒ«ãƒšãƒ³", "3è‰²ãƒœãƒ¼ãƒ«ãƒšãƒ³", 150, 5],
    ["USBãƒ¡ãƒ¢ãƒª", "ç™ºè¡¨ãƒ‡ãƒ¼ã‚¿ä¿å­˜ç”¨", 2000, 1],
    ["ä»˜ç®‹", "ä»˜ç®‹ãƒ¡ãƒ¢ã‚»ãƒƒãƒˆ", 400, 3],
    ["ã‚³ãƒ¼ãƒ’ãƒ¼è±†", "é•·æ™‚é–“ã‚¼ãƒŸç”¨", 1200, 1]
  ],
  "å²¡éƒ¨å®¶ãŠã¤ã‹ã„ãƒªã‚¹ãƒˆ" => [
    ["ç‰›ä¹³", "æœé£Ÿç”¨", 250, 2],
    ["åµ", "10å€‹å…¥ã‚Š", 300, 1],
    ["ã—ã‚‡ã†ã‚†", "æ–™ç†ç”¨", 400, 1],
    ["ãƒˆã‚¤ãƒ¬ãƒƒãƒˆãƒšãƒ¼ãƒ‘ãƒ¼", "12ãƒ­ãƒ¼ãƒ«å…¥ã‚Š", 500, 1]
  ],
  "ã‚­ãƒƒãƒãƒ³ã‚«ãƒ¼ã€ŒCRAYONã€" => [
    ["ãŸã¾ã­ã", "ä»•è¾¼ã¿ç”¨", 500, 5],
    ["é¶ã‚€ã­è‚‰", "ã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒç”¨", 800, 3],
    ["ãƒ•ãƒ©ãƒ³ã‚¹ãƒ‘ãƒ³", "ã‚µãƒ³ãƒ‰ã‚¤ãƒƒãƒç”¨", 600, 4]
  ],
  "ãƒ©ãƒ¼ãƒ¡ãƒ³ã€œç…å­èˆå®¶ã€œ" => [
    ["ä¸­è¯éºº", "ãƒ©ãƒ¼ãƒ¡ãƒ³ç”¨", 1000, 10],
    ["è±šéª¨ã‚¹ãƒ¼ãƒ—", "ä»•è¾¼ã¿ç”¨", 1500, 2],
    ["ãƒãƒ£ãƒ¼ã‚·ãƒ¥ãƒ¼", "ãƒ©ãƒ¼ãƒ¡ãƒ³ãƒˆãƒƒãƒ”ãƒ³ã‚°ç”¨", 1200, 5],
    ["ãƒ¡ãƒ³ãƒ", "ãƒ©ãƒ¼ãƒ¡ãƒ³ãƒˆãƒƒãƒ”ãƒ³ã‚°ç”¨", 700, 4],
    ["ãƒã‚®", "è–¬å‘³ç”¨", 500, 3],
    ["ã®ã‚Š", "ãƒˆãƒƒãƒ”ãƒ³ã‚°ç”¨", 300, 5],
    ["ã‚†ã§åµ", "åŠç†Ÿåµ", 400, 6]
  ]
}


# ğŸ“Œ ã‚¢ã‚¤ãƒ†ãƒ è¿½åŠ ï¼ˆã™ã¹ã¦å›ºå®šï¼‰
items.each do |team_name, item_list|
  team = team_records[team_name]
  
  item_list.each do |name, desc, price, qty|
    Item.create!(
      name: name,
      description: desc,
      price: price,
      quantity: qty,
      status: "unpurchased",
      user: team.users.sample,
      team: team
    )
  end
end


puts "ğŸŒ± ã‚·ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã®æŠ•å…¥ãŒå®Œäº†ã—ã¾ã—ãŸï¼"
